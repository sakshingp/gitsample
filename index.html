<html>
<head>
<script type="text/javascript">
     (function() {
        if(window.location.href.indexOf('hash') == -1){
           var hash = prompt("Enter account hash", "255a91a0b4a0bf562e5148efc6de9b97");
        if (hash != null) {
            window.location.href=window.location.href + '?hash=' + hash;
            } 
        }
        
    }());
    function getQueryStringValue (key) {  
        return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]" + encodeURIComponent(key).replace(/[\.\+\*]/g, "\\$&") + "(?:\\=([^&]*))?)?.*$", "i"), "$1"));  
    }   
    var src;
    var account_hash=getQueryStringValue('hash') ? getQueryStringValue('hash') : '255a91a0b4a0bf562e5148efc6de9b97';
    if(getQueryStringValue('env') == "") {
        src = 'https://cdn.pushcrew.com/js/'+ account_hash + '.js';
    } else {
        src = 'https://cdn.pushcrewstaging.com/js/'+ account_hash + '.js';
    }
    var qajs = 'test-jslib';
    (function(p,u,s,h){
        p._pcq=p._pcq||[];
        p._pcq.push(['_currentTime',Date.now()]);
        s=u.createElement('script');
        s.type='text/javascript';
        s.async=true;
        s.src=src;
        h=u.getElementsByTagName('script')[0];
        h.parentNode.insertBefore(s,h);
    })(window,document);
</script>
<script type="text/javascript">
    var add = (function () {
        var counter = 0;
        return function () {return counter += 1;}
    })();
    function addToCart(){
        document.getElementById("cart").innerHTML = 'Cart value is ' + add();
    }
    function goal() {
        document.getElementById("demo").innerHTML = "Added product checked out..Goal Triggered !!";
    }
    var setCookie = function () {
        var d = new Date();
        d.setTime(d.getTime() + (365*24*60*60*1000));
        var expires = "expires="+ d.toUTCString();
        document.cookie = 'qa-cookie' + "=" + 'jslib-test' + ";" + expires + ";path=/";
    };
    function setreferrer() {
        document.getElementById("refer").href = window.location.href;
    }
</script>
<script>
    window._pcq = window._pcq || [];
    window._pcq.push(['tag', 'AUTOMATION', 'E2E-Auto']);
</script>
<style>
.button {
    background-color: #4CAF50;
    border: none;
    color: white;
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
    cursor: pointer;
}
p.info
{
    color:blue;
    margin-left:30px;
    font-size:x-large;
    font-weight:bold;
}
</style>
</head>
<body onload="setCookie()">
    <h1>Pushcrew</h1>
    <p>On clicking Add to cart button, you will become the part of trigger campaign</p>
    <p>After 5 min, you will get a notification</p>
    <p>On clicking Checkout, you will be a converted subscriber of trigger campaign</p>
    <p>After another 5 min, you will get one more notification if you haven't converted yet</p>
    <br/>
    <a class="button" id="refer" onclick="setreferrer()">Referrer</a>
    <button class="button" id="add-cookie" onclick="setCookie()">Set Cookie</button>
    <button class="button" id="entry" onclick="addToCart()">Add to cart</button>
    <p class="info" id="cart">Cart value is 0</p>
    <button class="button" id="exit" onclick="goal()">Checkout</button>
    <p class="info" id="demo"></p>
</body>
</html>
